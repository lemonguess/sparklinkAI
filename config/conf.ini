[models]
# 主要对话模型
chat_model = deepseek-ai/DeepSeek-V3
# 嵌入模型
embedding_model = BAAI/bge-large-zh-v1.5
# 备用嵌入模型
embedding_model_backup = BAAI/bge-m3
# 重排序模型
rerank_model = BAAI/bge-reranker-v2-m3
# 模型参数
max_tokens = 4096
temperature = 0.7
top_p = 0.9

[database]
# MySQL配置
mysql_pool_size = 10
mysql_max_overflow = 20
mysql_pool_timeout = 30
mysql_pool_recycle = 3600

# Redis配置
redis_max_connections = 50
redis_socket_timeout = 5
redis_socket_connect_timeout = 5

# Milvus配置
milvus_collection_name = sparklinkai_knowledge
milvus_dimension = 1024
milvus_index_type = IVF_FLAT
milvus_metric_type = IP
milvus_nlist = 1024

[knowledge_base]
# 知识库配置
chunk_size = 512
chunk_overlap = 50
max_chunks_per_doc = 1000
# 检索配置
top_k = 10
similarity_threshold = 0.7
rerank_top_k = 5

[search]
# 联网搜索配置
web_search_enabled = true
web_search_timeout = 10
max_search_results = 10
search_timeout = 10
# 智能判断阈值
knowledge_confidence_threshold = 0.8
use_web_fallback = true

[celery]
# Celery任务配置
task_soft_time_limit = 300
task_time_limit = 600
worker_prefetch_multiplier = 1
task_acks_late = true
worker_disable_rate_limits = false

[api]
# API配置
max_request_size = 10485760
request_timeout = 30
cors_origins = ["*"]
cors_methods = ["GET", "POST", "PUT", "DELETE"]
cors_headers = ["*"]

[logging]
# 日志配置
log_level = INFO
log_file = logs/sparklinkai.log
max_log_size = 10485760
backup_count = 5

[security]
# 安全配置
api_key_required = false
rate_limit_per_minute = 60
max_concurrent_requests = 100

[default_user]
# 默认用户配置
username = admin
email = admin@sparklinkai.com
is_active = true